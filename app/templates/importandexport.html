{% extends "base.html" %}
{% block content %}
    <div id="factory115" class="chart600"></div>

    <script type="text/javascript">
        var myChart1 = echarts.init(document.getElementById('factory115'), 'vintage');
        var my_l1 = {{l1|tojson}};
        var option = {
            title: {
                text: '14/15至18/19玉米及替代品进口量',
                left:'center'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer:{
                    type:'cross'
                }
            },
            legend: {
                // data:['2014corn', '2015corn', '2016corn', '2017corn', '2018corn',
                // '2014barley', '2015barley', '2016barley', '2017barley', '2018barley',
                // '2014sorghum', '2015sorghum', '2016sorghum', '2017sorghum', '2018sorghum',
                // '2014cassava', '2015cassava', '2016cassava', '2017cassava', '2018cassava'],
                date:["corn", "barley", "sorghum", "cassava", "18/19corn", "18/19barley", "18/19sorghum", "18/19cassava"],
                y:30
            },
            xAxis: {
                type:'category',
            },
            yAxis: {
                type:'value',
                min:function(value){
                    min = value.min*0.95
                    return min.toFixed(0)
                }
            },
            dataset:{
                dimensions: ['month', '2014corn', '2015corn', '2016corn', '2017corn', '2018corn',
                '2014barley', '2015barley', '2016barley', '2017barley', '2018barley',
                '2014sorghum', '2015sorghum', '2016sorghum', '2017sorghum', '2018sorghum',
                '2014cassava', '2015cassava', '2016cassava', '2017cassava', '2018cassava'],
                source: my_l1,
            },
            series: [
                {
                    name: 'corn',
                    type: 'bar',
                    stack: '14/15',
                },
                {
                    name: 'corn',
                    type: 'bar',
                    stack: '15/16',
                },
                {
                    name: 'corn',
                    type: 'bar',
                    stack: '16/17',
                },
                {
                    name: 'corn',
                    type: 'bar',
                    stack: '17/18',
                },
                {
                    name: '18/19corn',
                    type: 'bar',
                    stack: '18/19',
                },
                {
                    name: 'barley',
                    type: 'bar',
                    stack: '14/15',
                },
                {
                    name: 'barley',
                    type: 'bar',
                    stack: '15/16',
                },
                {
                    name: 'barley',
                    type: 'bar',
                    stack: '16/17',
                },
                {
                    name: 'barley',
                    type: 'bar',
                    stack: '17/18',
                },
                {
                    name: '18/19barley',
                    type: 'bar',
                    stack: '18/19',
                },
                {
                    name: 'sorghum',
                    type: 'bar',
                    stack: '14/15',
                },
                {
                    name: 'sorghum',
                    type: 'bar',
                    stack: '15/16',
                },
                {
                    name: 'sorghum',
                    type: 'bar',
                    stack: '16/17',
                },
                {
                    name: 'sorghum',
                    type: 'bar',
                    stack: '17/18',
                },
                {
                    name: '18/19sorghum',
                    type: 'bar',
                    stack: '18/19',
                },
                {
                    name: 'cassava',
                    type: 'bar',
                    stack: '14/15',
                },
                {
                    name: 'cassava',
                    type: 'bar',
                    stack: '15/16',
                },
                {
                    name: 'cassava',
                    type: 'bar',
                    stack: '16/17',
                },
                {
                    name: 'cassava',
                    type: 'bar',
                    stack: '17/18',
                },
                {
                    name: '18/19cassava',
                    type: 'bar',
                    stack: '18/19',
                },
            ]
        };
        myChart1.setOption(option);
    </script>

    <script type="text/javascript">
        window.onresize = function(){
            myChart1.resize();
        }
    </script>

{% endblock %}